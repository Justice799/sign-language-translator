<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Translator</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 0; 
            background-color: #f4f4f4; 
            color: #333; 
            overflow: auto; /* Enabled scrolling */
        }
        nav { 
            background-color: #2c3e50; 
            color: #fff; 
            padding: 10px; 
            text-align: left; 
            display: flex; 
            align-items: center; 
        }
        nav h1 { margin: 0 20px; }
        nav img { height: 50px; margin-right: 10px; }
        .navbar ul { 
            list-style: none; 
            padding: 0; 
            display: flex; 
            justify-content: flex-start; 
            background-color: #34495e; 
            padding-left: 20px; 
        }
        .navbar li { margin: 10px; }
        .navbar a { color: #fff; text-decoration: none; font-weight: bold; }
        .video-container { 
            max-width: 640px;  /* Match standard webcam resolution */
            max-height: 480px; /* Limit height */
            margin: 20px auto; /* Center with margin */
            overflow: hidden;  /* Prevent overflow */
            position: relative; 
        }
        img#video-feed { 
            width: 100%; 
            height: auto; 
            display: block; 
            object-fit: contain; /* Fit without stretching */
        }
        .sentence-container { 
            margin: 20px 0; 
            text-align: center; 
        }
        #sentence { 
            font-size: 24px; 
            font-weight: bold; 
            color: #2c3e50; 
            background-color: #ecf0f1; 
            padding: 10px; 
            border-radius: 5px; 
            display: inline-block; 
            min-width: 300px; /* Ensure readability */
        }
        .footer { 
            background-color: #2c3e50; 
            color: #fff; 
            text-align: left; 
            padding: 10px; 
            position: fixed; 
            bottom: 0; 
            width: 100%; 
        }
        .back-button { 
            display: inline-block; 
            margin: 20px auto; 
            padding: 10px 20px; 
            background-color: #3498db; 
            color: #fff; 
            text-decoration: none; 
            border-radius: 5px; 
            font-weight: bold; 
            transition: background-color 0.3s; 
            text-align: center; 
        }
        .back-button:hover { background-color: #2980b9; } /* Hover effect */
    </style>
</head>
<body>
    <nav>
        <img src="static/images/logo2.jpg" alt="logo">
        <h1>Sign Language Detector</h1>
    </nav>
    <h1>Video Stream Translator</h1>
    <div class="video-container">
        <img id="video-feed" src="{{ url_for('video_feed') }}" alt="Video Stream">
    </div>
    <div class="sentence-container">
        <h2>Translated Sentence:</h2>
        <div id="sentence">Waiting for signs...</div>
    </div>
    <a href="/" class="back-button">Back to Home</a>

    <div class="footer">
        <div class="copyright">
            <p>Copyright Â© 2024</p>
        </div>
    </div>

    <script>
        function updateSentence() {
            fetch('/get_sentence')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('sentence').innerText = data.sentence || "Waiting for signs...";
                })
                .catch(error => {
                    console.error('Error fetching sentence:', error);
                    document.getElementById('sentence').innerText = "Error fetching sentence...";
                });
        }
        setInterval(updateSentence, 1000); // Poll every second
        updateSentence(); // Initial call
    </script>
</body>
</html>